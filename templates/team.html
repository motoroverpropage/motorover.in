{% extends "base.html" %}

{% block head %}
  {% if team %}
  <!-- JSON-LD for Team Members -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "MotoRover",
    "employee": [
      {% for member in team %}
      {
        "@type": "Person",
        "name": "{{ member.name }}",
        "jobTitle": "{{ member.role }}",
        {% if member.image %}
        "image": "{{ member.image }}",
        {% endif %}
        {% if member.bio %}
        "description": "{{ member.bio }}"
        {% endif %}
      }{% if not loop.last %},{% endif %}
      {% endfor %}
    ]
  }
  </script>
  {% endif %}
  
  {% if breadcrumbs %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {% for crumb in breadcrumbs %}
      {
        "@type": "ListItem",
        "position": {{ loop.index }},
        "name": "{{ crumb.name }}",
        "item": "{{ crumb.url }}"
      }{% if not loop.last %},{% endif %}
      {% endfor %}
    ]
  }
  </script>
  {% endif %}
{% endblock %}

{% block content %}
  {% if breadcrumbs %}
  <nav aria-label="Breadcrumb" class="container">
    <ol class="breadcrumbs">
      {% for crumb in breadcrumbs %}
      <li class="breadcrumbs__item">
        {% if not loop.last %}
        <a href="{{ crumb.url }}" class="breadcrumbs__link">{{ crumb.name }}</a>
        {% else %}
        <span class="breadcrumbs__current">{{ crumb.name }}</span>
        {% endif %}
      </li>
      {% endfor %}
    </ol>
  </nav>
  {% endif %}
  
  <article class="section">
    <div class="container">
      <header class="mb-12 text-center">
        <h1>{{ title|default('Our Team') }}</h1>
      </header>
      
      {% if team %}
      <div class="grid grid--3">
        {% for member in team %}
        <article class="card text-center">
          {% if member.image %}
          <img src="{{ member.image }}" alt="{{ member.name }}" loading="lazy" width="300" height="300" style="width: 100%; height: auto; border-radius: 50%; margin: 0 auto var(--space-4); aspect-ratio: 1; object-fit: cover;">
          {% endif %}
          <h3 class="card__title">{{ member.name }}</h3>
          {% if member.role %}
          <p style="color: var(--accent); font-size: var(--font-size-sm); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: var(--space-4);">
            {{ member.role }}
          </p>
          {% endif %}
          {% if member.bio %}
          <p class="card__content">{{ member.bio }}</p>
          {% endif %}
        </article>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </article>
{% endblock %}
